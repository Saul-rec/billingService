-- This script was generated by a beta version of the ERD tool in pgAdmin 4.
-- Please log an issue at https://redmine.postgresql.org/projects/pgadmin4/issues/new if you find any bugs, including reproduction steps.
BEGIN;


CREATE TABLE public.billing
(
    billing_code bigint NOT NULL,
    cod_employee bigint NOT NULL,
    name_client character varying(75),
    payment_type character varying(75),
    date_of_sell date,
    total_iva double precision,
    subtotal double precision,
    total_sell double precision,
    PRIMARY KEY (billing_code)
);

CREATE TABLE public.billing_detail
(
    billing_detail_code bigint NOT NULL,
    billing_code bigint NOT NULL,
    cod_product bigint NOT NULL,
    quantity integer NOT NULL,
    unit_price_product double precision NOT NULL,
    iva_per_product double precision NOT NULL,
    amount double precision NOT NULL,
    PRIMARY KEY (billing_detail_code)
);

CREATE TABLE public.employee
(
    code_employee bigint NOT NULL,
    name_employee character varying(75),
    lastname_employee character varying(75),
    PRIMARY KEY (code_employee)
);

CREATE TABLE public.products
(
    code_product bigint NOT NULL,
    desc_product character varying(100),
    name_product character varying(50) NOT NULL,
    presentation character varying(50),
    stock integer NOT NULL,
    unit_price_product double precision NOT NULL,
    PRIMARY KEY (code_product)
);

ALTER TABLE public.billing
    ADD FOREIGN KEY (cod_employee)
    REFERENCES public.employee (code_employee)
    NOT VALID;


ALTER TABLE public.billing_detail
    ADD FOREIGN KEY (billing_code)
    REFERENCES public.billing (billing_code)
    NOT VALID;


ALTER TABLE public.billing_detail
    ADD FOREIGN KEY (cod_product)
    REFERENCES public.products (code_product)
    NOT VALID;

END;